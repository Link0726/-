<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>스트레스 검사 결과</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      html,
      body {
        height: 100%;
      }
    </style>
  </head>
  <body class="bg-gradient-to-b from-white to-pink-50 text-gray-800">
    <div class="max-w-3xl mx-auto px-5 py-10">
      <header class="mb-8">
        <h1 class="text-2xl sm:text-3xl md:text-4xl font-extrabold">
          스트레스 검사 결과
        </h1>
        <p class="mt-2 text-sm text-gray-600">총점은 0~40점 범위입니다.</p>
      </header>

      <section
        class="rounded-2xl border border-gray-200 bg-white p-6 shadow-sm"
      >
        <div class="flex items-center justify-between">
          <div>
            <div class="text-sm text-gray-500">총점</div>
            <div id="score" class="text-4xl font-extrabold">0</div>
          </div>
          <div class="text-right">
            <div class="text-sm text-gray-500">판정</div>
            <div id="label" class="text-xl font-bold">-</div>
          </div>
        </div>

        <div class="mt-6 border rounded-md overflow-hidden">
          <div class="bg-black text-white px-4 py-2 text-sm font-semibold">
            스트레스 자가 진단 가이드
          </div>
          <div class="bg-white px-4 py-4 text-sm">
            <ul class="list-disc pl-5 leading-7">
              <li>
                <span class="font-semibold">19점 이상</span> : 전문가의 도움이
                필요한 상태
              </li>
              <li>
                <span class="font-semibold">17–18점</span> : 정신질환으로 발전될
                가능성이 높아진 상태
              </li>
              <li>
                <span class="font-semibold">14–16점</span> : 스트레스의 영향을
                받기 시작
              </li>
              <li>
                <span class="font-semibold">13점 이하</span> : 정상적인 스트레스
                상태
              </li>
            </ul>
          </div>
        </div>

        <div class="mt-6 flex flex-wrap gap-3">
          <button
            id="copyBtn"
            class="rounded-xl border border-gray-300 bg-white px-4 py-2 text-sm hover:bg-gray-50"
          >
            결과 복사
          </button>
          <a
            href="test1.html"
            class="rounded-xl bg-pink-500 text-white px-4 py-2 text-sm font-semibold hover:bg-pink-600"
            >다시 검사</a
          >
          <a
            href="first.html"
            class="rounded-xl border border-gray-300 bg-white px-4 py-2 text-sm hover:bg-gray-50"
            >검사 선택으로</a
          >
        </div>
      </section>
    </div>

    <script>
      function getScoreFromQuery() {
        const params = new URLSearchParams(location.search);
        const s = parseInt(params.get("score"), 10);
        return Number.isFinite(s) ? s : 0;
      }

      function getLabel(score) {
        if (score >= 19) return "전문가 도움 필요";
        if (score >= 17) return "발전 가능성 높아짐";
        if (score >= 14) return "영향 받기 시작";
        return "정상 범위";
      }

      const score = getScoreFromQuery();
      document.getElementById("score").textContent = String(score);
      document.getElementById("label").textContent = getLabel(score);

      document.getElementById("copyBtn").addEventListener("click", async () => {
        const text = `스트레스 검사 결과\n총점: ${score} / 40\n판정: ${getLabel(
          score
        )}`;
        try {
          await navigator.clipboard.writeText(text);
        } catch {}
      });
    </script>
  </body>
</html>
